varying vec2 vUv;

uniform sampler2D tDiffuse;
uniform vec2 resolution;
uniform float checkSize;

vec3 checker(vec2 uv)
{
	float fm = mod(floor(checkSize * uv.x) + floor(checkSize * uv.y), 2.0);

	if (fm < 1.0)
	{
		return vec3(1.0, 1.0, 1.0);
	} 
	else
	{
		return vec3(0.0, 0.0, 0.0);
	}
}

void main()
{
	vec4 color = texture2D(tDiffuse, vUv);
	vec3 check = checker(vUv);
	gl_FragColor = mix(vec4(check, 1.0), color, 0.5);
}